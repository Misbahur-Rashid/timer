<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Clock + Animated Calendar + World Time + Events</title>
<style>
:root{
  --bg: #071029;
  --card: #0f1f33;
  --accent: #30cfd0;
  --muted: #9fb0c2;
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(255,255,255,0.02);
  --today: #ffd166;
  --success: #8ef6a6;
  --danger: #ff6b6b;
  --text: #e6f0f6;
}
[data-theme="light"]{
  --bg: #f4f7fb;
  --card: #ffffff;
  --accent: #077b79;
  --muted: #4b5563;
  --glass: rgba(2,6,23,0.03);
  --glass-2: rgba(2,6,23,0.02);
  --text: #071129;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background: linear-gradient(180deg,var(--bg) 0%, #041428 100%);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
.app {
  width:min(1100px,98vw);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;
  padding:18px;
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:18px;
  box-shadow: 0 12px 40px rgba(2,8,23,0.6);
  border: 1px solid rgba(255,255,255,0.03);
  align-items:start;
}

/* LEFT COLUMN */
.left {
  background: linear-gradient(180deg, var(--card), rgba(8,20,35,0.92));
  padding:18px;
  border-radius:10px;
}
.top-row {
  display:flex;
  justify-content:space-between;
  align-items:start;
  gap:12px;
}
.time {
  font-size: clamp(2rem, 6vw, 3.6rem);
  letter-spacing:1.5px;
  font-weight:800;
  line-height:1;
  display:flex;
  align-items:baseline;
  gap:10px;
}
.time .sec{
  font-size:0.45em;
  opacity:0.85;
  font-weight:700;
  display:inline-block;
  transform-origin:center;
}
.sec.pulse{ animation: pulseSec 1s linear infinite; }
.date {
  margin-top:8px;
  color:var(--muted);
  font-size:0.98rem;
}
.chips {
  margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;
}
.chip {
  background:var(--glass);
  color:var(--muted);
  padding:8px 12px;
  border-radius:999px;
  font-size:0.95rem;
  display:inline-flex;
  align-items:center;
  gap:8px;
  border:1px solid rgba(255,255,255,0.02);
}

/* WORLD CLOCK */
.world {
  margin-top:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:10px;
  padding:12px;
  display:flex;
  gap:12px;
  align-items:center;
}
.world select {
  padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.04);
  background: var(--card);
  color: var(--text);
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
  font-size:0.95rem;
}
.world .winfo { display:flex; flex-direction:column; gap:4px; }
.world .wtime { font-weight:700; font-size:1.2rem; }
.world .wdate { color:var(--muted); font-size:0.92rem; }

/* RIGHT COLUMN - CALENDAR */
.cal-card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:14px;
  border-radius:12px;
  position:relative;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.03);
}
.cal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.month{
  font-weight:700;
  font-size:1.05rem;
  display:flex;
  gap:10px;
  align-items:center;
}
.nav{ display:flex; gap:8px; }
.nav button{
  background:var(--glass-2);
  border: none;
  color:var(--muted);
  padding:8px;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
  width:40px;
  height:40px;
  display:inline-grid;
  place-items:center;
}
.calendar{
  margin-top:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:10px;
  padding:12px;
  border:1px solid rgba(255,255,255,0.02);
}
.weekdays{ display:grid; grid-template-columns:repeat(7,1fr); gap:6px; font-size:0.86rem; color:var(--muted); margin-bottom:8px; }
.days{ display:grid; grid-template-columns:repeat(7,1fr); gap:8px; }
.day{
  min-height:64px; border-radius:8px; padding:8px; display:flex; flex-direction:column; gap:4px;
  background:transparent; border:1px solid transparent; cursor:pointer; transition: all .16s ease;
  color:var(--text);
}
.day:hover{ transform: translateY(-6px); box-shadow: 0 10px 20px rgba(2,8,23,0.6); }
.day.inactive{ color: rgba(214,230,239,0.28); }
.num{ width:36px; height:36px; display:grid; place-items:center; border-radius:8px; font-weight:700; }
.day.today{ background: linear-gradient(135deg, rgba(255,209,102,0.12), rgba(255,209,102,0.06)); border:1px dashed rgba(255,209,102,0.16) }
.day.holiday{ background: linear-gradient(90deg, rgba(255,107,107,0.08), rgba(255,107,107,0.03)); border:1px solid rgba(255,107,107,0.06); }
.event-dot{ width:8px; height:8px; border-radius:99px; margin-left:auto; }

.calendar-inner{ transition: transform .42s cubic-bezier(.2,.9,.2,1), opacity .28s ease; }
.slide-left{ transform: translateX(-12px); opacity:0.0; }
.slide-right{ transform: translateX(12px); opacity:0.0; }

.toggle{
  position:absolute; right:12px; bottom:12px; background: linear-gradient(90deg,var(--accent), #7de1e3);
  color:#012; border:none; padding:10px 14px; border-radius:999px; font-weight:800; cursor:pointer;
  box-shadow: 0 8px 20px rgba(3,28,34,0.35);
}

/* EVENTS LIST */
.events {
  margin-top:12px; background: rgba(255,255,255,0.02); padding:10px; border-radius:8px; color:var(--muted);
  max-height:200px; overflow:auto;
}
.ev-item { padding:6px 8px; border-radius:8px; display:flex; justify-content:space-between; gap:8px; align-items:center; }
.ev-item + .ev-item { margin-top:6px; }
.btn { padding:6px 8px; border-radius:6px; border:none; cursor:pointer; background:var(--accent); color:#012; font-weight:700; }

/* CONTROLS */
.controls { display:flex; gap:8px; align-items:center; margin-top:12px; flex-wrap:wrap; }

/* MODAL */
.modal-back { position:fixed; inset:0; background:rgba(0,0,0,0.5); display:none; place-items:center; z-index:50; }
.modal { background:var(--card); color:var(--text); padding:16px; border-radius:10px; width:360px; box-shadow:0 10px 30px rgba(0,0,0,0.5); }
.modal input, .modal textarea, .modal select { width:100%; padding:8px; margin-top:8px; border-radius:6px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:var(--text); }

/* small screens */
@media (max-width:980px){
  .app{ grid-template-columns: 1fr; }
}

/* SECONDS ANIMATION */
@keyframes pulseSec {
  0%{ transform: scale(1) } 50%{ transform: scale(1.06) } 100%{ transform: scale(1) }
}
</style>
</head>
<body data-theme="dark">
<div class="app">
  <!-- LEFT -->
  <div class="left">
    <div class="top-row">
      <div>
        <div class="time" id="timeBlock">
          <span id="hhmm">--:--</span>
          <span class="sec" id="ss">--</span>
        </div>
        <div class="date" id="dateBlock">Loading date...</div>
        <div class="chips">
          <div class="chip">Timezone: <strong id="tzName">UTC</strong></div>
          <div class="chip">UTC Offset: <span id="tzOffset">+00:00</span></div>
          <div class="chip">Weekday: <span id="weekday">‚Äî</span></div>
        </div>
      </div>
      <div style="min-width:220px; display:flex; flex-direction:column; gap:8px; align-items:flex-end;">
        <div class="controls">
          <button class="btn" id="themeToggle">Toggle Theme</button>
          <button class="btn" id="exportBtn">Export</button>
          <button class="btn" id="importBtn">Import</button>
        </div>
        <div style="font-size:0.85rem; color:var(--muted);">Demo ‚Ä¢ Local + world time ‚Ä¢ Events saved in browser</div>
      </div>
    </div>
    <!-- World Clock -->
    <div class="world">
      <div style="display:flex;flex-direction:column;gap:6px;">
        <label for="tzSelect" style="font-size:0.9rem;">üåç Select City / Timezone</label>
        <select id="tzSelect">
          <option value="Asia/Dhaka">üáßüá© Dhaka (Asia/Dhaka)</option>
          <option value="Asia/Kolkata">üáÆüá≥ Kolkata (Asia/Kolkata)</option>
          <option value="Asia/Riyadh">üá∏üá¶ Riyadh (Asia/Riyadh)</option>
          <option value="Europe/Berlin">üá©üá™ Berlin (Europe/Berlin)</option>
          <option value="Europe/London">üá¨üáß London (Europe/London)</option>
          <option value="America/New_York">üá∫üá∏ New York (America/New_York)</option>
          <option value="America/Los_Angeles">üá∫üá∏ Los Angeles (America/Los_Angeles)</option>
          <option value="Asia/Tokyo">üáØüáµ Tokyo (Asia/Tokyo)</option>
          <option value="Australia/Sydney">üá¶üá∫ Sydney (Australia/Sydney)</option>
          <option value="UTC">UTC</option>
        </select>
      </div>
      <div class="winfo" style="margin-left:auto; text-align:right;">
        <div class="wtime" id="worldTime">--:--:--</div>
        <div class="wdate" id="worldDate">Loading...</div>
      </div>
    </div>
  </div>

  <!-- RIGHT -->
  <div class="cal-card">
    <div class="cal-header">
      <div class="month" id="monthLabel">‚Äî</div>
      <div class="nav">
        <button id="prevBtn">‚Äπ</button>
        <button id="todayBtn">Today</button>
        <button id="nextBtn">‚Ä∫</button>
      </div>
    </div>
    <div class="calendar">
      <div class="calendar-inner" id="calendarInner">
        <div class="weekdays" id="weekdaysRow"></div>
        <div class="days" id="daysGrid"></div>
      </div>
    </div>
    <button class="toggle" id="toggleCalendar">Hide Calendar ‚ñæ</button>
  </div>
</div>

<!-- Modal -->
<div class="modal-back" id="modalBack">
  <div class="modal">
    <h3 id="modalTitle">Add Event</h3>
    <label>Title</label>
    <input id="evtTitle" placeholder="Event title"/>
    <label>Time (optional)</label>
    <input type="time" id="evtTime"/>
    <label>Description</label>
    <textarea rows="3" id="evtDesc" placeholder="Brief description"></textarea>
    <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end;">
      <button class="btn" id="saveEventBtn">Save</button>
      <button class="btn" id="cancelEventBtn">Cancel</button>
    </div>
  </div>
</div>

<script>
/* CONFIG */
const WEATHER_API_KEY='';
const DEFAULT_LOCALE = navigator.language || 'en-GB';
const STORAGE_KEY='cc_events_v1';
const HOLIDAYS={'2025-03-17':'Sheikh Mujibur Rahman\'s Birthday','2025-03-26':'Independence Day','2025-05-01':'May Day','2025-12-16':'Victory Day'};

/* UTILS */
const pad=n=>String(n).padStart(2,'0');
const toISODate=d=>`${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;

/* CLOCK */
const hhmm=document.getElementById('hhmm');
const ssEl=document.getElementById('ss');
const dateBlock=document.getElementById('dateBlock');
const tzName=document.getElementById('tzName');
const tzOffset=document.getElementById('tzOffset');
const weekdayEl=document.getElementById('weekday');
const tzSelect=document.getElementById('tzSelect');
const worldTime=document.getElementById('worldTime');
const worldDate=document.getElementById('worldDate');

function updateLocalClock(){
  const now=new Date();
  hhmm.textContent=pad(now.getHours())+':'+pad(now.getMinutes());
  ssEl.textContent=pad(now.getSeconds());
  tzName.textContent=Intl.DateTimeFormat().resolvedOptions().timeZone;
  tzOffset.textContent=now.getTimezoneOffset()/ -60>=0?'+':'-'+Math.abs(now.getTimezoneOffset()/60);
  weekdayEl.textContent=now.toLocaleDateString(DEFAULT_LOCALE,{weekday:'long'});
  dateBlock.textContent=now.toLocaleDateString(DEFAULT_LOCALE,{day:'numeric',month:'long',year:'numeric'});
}
setInterval(updateLocalClock,500);
updateLocalClock();

/* WORLD TIME */
function updateWorldTime(){
  const tz=tzSelect.value;
  const now=new Date();
  const opt={timeZone:tz,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false};
  worldTime.textContent=now.toLocaleTimeString([],opt);
  worldDate.textContent=now.toLocaleDateString([], {timeZone:tz,weekday:'short',month:'short',day:'numeric'});
}
tzSelect.addEventListener('change',updateWorldTime);
setInterval(updateWorldTime,1000);
updateWorldTime();

/* THEME */
const themeToggle=document.getElementById('themeToggle');
themeToggle.addEventListener('click',()=>document.body.dataset.theme=document.body.dataset.theme==='dark'?'light':'dark');

/* CALENDAR */
const monthLabel=document.getElementById('monthLabel');
const prevBtn=document.getElementById('prevBtn');
const nextBtn=document.getElementById('nextBtn');
const todayBtn=document.getElementById('todayBtn');
const weekdaysRow=document.getElementById('weekdaysRow');
const daysGrid=document.getElementById('daysGrid');
const toggleCalendar=document.getElementById('toggleCalendar');
const calendarInner=document.getElementById('calendarInner');
const events={...JSON.parse(localStorage.getItem(STORAGE_KEY)||'{}')};
let currentMonth=new Date();

function renderCalendar(){
  const month=currentMonth.getMonth();
  const year=currentMonth.getFullYear();
  monthLabel.textContent=currentMonth.toLocaleDateString(DEFAULT_LOCALE,{month:'long',year:'numeric'});
  // Weekdays
  const weekdays=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  weekdaysRow.innerHTML=weekdays.map(d=>`<div>${d}</div>`).join('');
  // Days
  const firstDay=new Date(year,month,1).getDay();
  const lastDay=new Date(year,month+1,0).getDate();
  const prevLast=new Date(year,month,0).getDate();
  let daysHTML='';
  for(let i=firstDay-1;i>=0;i--)daysHTML+=`<div class="day inactive"><div class="num">${prevLast-i}</div></div>`;
  for(let d=1;d<=lastDay;d++){
    const dateStr=toISODate(new Date(year,month,d));
    const today=toISODate(new Date())===dateStr?' today':'';
    const holiday=HOLIDAYS[dateStr]?' holiday':'';
    const dot=events[dateStr]?'<span class="event-dot" style="background:'+events[dateStr].color+'"></span>':'';
    daysHTML+=`<div class="day${today+holiday}" data-date="${dateStr}"><div class="num">${d}</div>${dot}</div>`;
  }
  // Next month filler
  const totalDays=firstDay+lastDay;
  for(let i=1;i<=42-totalDays;i++)daysHTML+=`<div class="day inactive"><div class="num">${i}</div></div>`;
  daysGrid.innerHTML=daysHTML;
}
prevBtn.addEventListener('click',()=>{currentMonth.setMonth(currentMonth.getMonth()-1); renderCalendar();});
nextBtn.addEventListener('click',()=>{currentMonth.setMonth(currentMonth.getMonth()+1); renderCalendar();});
todayBtn.addEventListener('click',()=>{currentMonth=new Date(); renderCalendar();});
renderCalendar();

/* CALENDAR TOGGLE */
toggleCalendar.addEventListener('click',()=>{
  if(calendarInner.style.display==='none'){
    calendarInner.style.display='block';
    toggleCalendar.textContent='Hide Calendar ‚ñæ';
  } else {
    calendarInner.style.display='none';
    toggleCalendar.textContent='Show Calendar ‚ñ∏';
  }
});

/* EVENTS MODAL */
const modalBack=document.getElementById('modalBack');
const modalTitle=document.getElementById('modalTitle');
const evtTitle=document.getElementById('evtTitle');
const evtTime=document.getElementById('evtTime');
const evtDesc=document.getElementById('evtDesc');
let activeDate=null;

daysGrid.addEventListener('click',e=>{
  const day=e.target.closest('.day');
  if(!day||day.classList.contains('inactive'))return;
  activeDate=day.dataset.date;
  modalTitle.textContent=`Add Event (${activeDate})`;
  evtTitle.value=''; evtTime.value=''; evtDesc.value='';
  modalBack.style.display='grid';
});

document.getElementById('cancelEventBtn').addEventListener('click',()=>modalBack.style.display='none');
document.getElementById('saveEventBtn').addEventListener('click',()=>{
  if(!events[activeDate])events[activeDate]={title:evtTitle.value,time:evtTime.value,desc:evtDesc.value,color:'#8ef6a6'};
  else events[activeDate]={...events[activeDate],title:evtTitle.value,time:evtTime.value,desc:evtDesc.value};
  localStorage.setItem(STORAGE_KEY,JSON.stringify(events));
  modalBack.style.display='none';
  renderCalendar();
});

/* EXPORT / IMPORT */
document.getElementById('exportBtn').addEventListener('click',()=>{ navigator.clipboard.writeText(JSON.stringify(events)); alert('Events copied to clipboard'); });
document.getElementById('importBtn').addEventListener('click',()=>{
  const data=prompt('Paste event JSON data');
  if(!data)return;
  try{ const obj=JSON.parse(data); Object.assign(events,obj); localStorage.setItem(STORAGE_KEY,JSON.stringify(events)); renderCalendar(); alert('Imported!'); } catch(e){alert('Invalid JSON');}
});
</script>
</body>
</html>
